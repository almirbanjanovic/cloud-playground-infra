# Gateway API HTTPRoute - Kubernetes-standard routing configuration
# Required for AI Conformance (Gateway API routing is part of the conformance spec)
#
# Routes traffic from the Gateway to the backend service (KAITO inference endpoint).
# Uses PathPrefix matching to route all traffic to the specified backend.
#
# Docs: https://learn.microsoft.com/en-us/azure/aks/istio-gateway-api
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: ${name}
  namespace: ${namespace}
spec:
  parentRefs:
    - name: ${gatewayName}
  rules:
    - matches:
        - path:
            type: PathPrefix
            value: ${pathPrefix}
      backendRefs:
        - name: ${backendService}
          port: ${backendPort}
      timeouts:
        request: ${requestTimeout}
